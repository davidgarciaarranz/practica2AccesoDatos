Swagger (SpringDoc) — Dependencias y plugins recomendados para Spring Boot 4

1) Dependencias (añadir dentro de <dependencies> en pom.xml)

<!-- springdoc-openapi (starter WebMVC + UI, compatible con Spring Boot 4)-->
<dependency>
  <groupId>org.springdoc</groupId>
  <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
  <version>2.1.0</version>
</dependency>

<!-- Anotaciones Swagger / OpenAPI (opcional, útil para etiquetas y ejemplos)-->
<dependency>
  <groupId>io.swagger.core.v3</groupId>
  <artifactId>swagger-annotations</artifactId>
  <version>2.2.8</version>
</dependency>

<!-- Spring HATEOAS (añádelo solo si necesitas HATEOAS; evita errores por autoconfiguración)-->
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-hateoas</artifactId>
</dependency>

Notas sobre dependencias a eliminar o evitar:
- No uses `org.springdoc:springdoc-openapi-ui:1.x` con Spring Boot 4 (incompatible).
- Si no usas Spring Data REST, evita `spring-boot-starter-data-rest` porque puede forzar autoconf. Si ya existe y causa conflictos, elimínalo o excluye las autoconfiguraciones (ver más abajo).

2) Plugins (sección <build><plugins> en pom.xml)

<!-- Spring Boot Maven Plugin (necesario para empaquetar/ejecutar jar/boot)-->

<plugin>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-maven-plugin</artifactId>
</plugin>

<!-- Maven Compiler Plugin (ajusta la versión Java según tu proyecto; Spring Boot 4 requiere Java 17+)-->

<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-compiler-plugin</artifactId>
  <version>3.10.1</version>
  <configuration>
    <source>17</source>
    <target>17</target>
  </configuration>
</plugin>

(Estos son los mínimos recomendados; ningún plugin adicional es estrictamente necesario para que SpringDoc UI funcione.)



3) Propiedades útiles / exclusiones (src/main/resources/application.properties)

# Evitar errores de autoconfiguración relacionados con HATEOAS/DataRest (si los necesitas excluir):
spring.autoconfigure.exclude=org.springdoc.core.configuration.SpringDocHateoasConfiguration,org.springdoc.core.configuration.SpringDocDataRestConfiguration

# Rutas de verificación (por defecto):
# - OpenAPI JSON: /v3/api-docs
# - Swagger UI: /swagger-ui/index.html

4) Solución de problemas rápida

- Si el arranque falla con excepciones relativas a HATEOAS/DataRest: o bien añade `spring-boot-starter-hateoas` o añade la línea de exclusiones en application.properties.
- Si no ves UI: revisa que el starter `springdoc-openapi-starter-webmvc-ui` está presente y que no haya reglas de seguridad bloqueando `/swagger-ui/**` o `/v3/api-docs`.

5) Versiones recomendadas (resumen)
- org.springdoc:springdoc-openapi-starter-webmvc-ui: 2.1.0
- io.swagger.core.v3:swagger-annotations: 2.2.8
- org.springframework.boot:spring-boot-starter-hateoas: (usar la versión manejada por tu BOM/parent)